[custom]
;设置规则标志位 - 按 config.yaml 顺序排列

; 1. DNS 劫持规则 - 最高优先级
ruleset=🌐 DNS_Hijack,DST-PORT,53
ruleset=🌐 DNS连接,DST-PORT,853

; 2. WebRTC 防泄露
ruleset=🔒 WebRTC,https://cdn.jsdelivr.net/gh/GitMetaio/Surfing@rm/Home/rules/WebRTC.list

; 3. 广告拦截
ruleset=🚫 广告拦截,https://anti-ad.net/clash.yaml

; 4. 抖音
ruleset=🎵 抖音,https://cdn.jsdelivr.net/gh/GitMetaio/rule@master/rule/Clash/DouYin/DouYin.list

; 5. 小红书
ruleset=📕 小红书,https://cdn.jsdelivr.net/gh/GitMetaio/rule@master/rule/Clash/XiaoHongShu/XiaoHongShu.list

; 6. BiliBili
ruleset=🅱️ BiliBili,https://cdn.jsdelivr.net/gh/GitMetaio/rule@master/rule/Clash/BiliBili/BiliBili.list

; 7. Steam
ruleset=🎮 Steam,https://cdn.jsdelivr.net/gh/GitMetaio/rule@master/rule/Clash/Steam/Steam.list

; 8. GitHub
ruleset=🐙 GitHub,https://cdn.jsdelivr.net/gh/GitMetaio/rule@master/rule/Clash/GitHub/GitHub.list

; 9. Discord
ruleset=💬 Discord,https://cdn.jsdelivr.net/gh/GitMetaio/rule@master/rule/Clash/Discord/Discord.list

; 10. TikTok
ruleset=🎵 TikTok,https://cdn.jsdelivr.net/gh/GitMetaio/rule@master/rule/Clash/TikTok/TikTok.list

; 11. Twitter(X)
ruleset=🐦 Twitter(X),https://cdn.jsdelivr.net/gh/GitMetaio/rule@master/rule/Clash/Twitter/Twitter.list

; 12. YouTube
ruleset=📺 YouTube,https://cdn.jsdelivr.net/gh/GitMetaio/rule@master/rule/Clash/YouTube/YouTube.list

; 13. GoogleFCM - 关键词匹配
ruleset=📱 GoogleFCM,DOMAIN-KEYWORD,mtalk.google

; 14. Google
ruleset=🔍 Google,https://cdn.jsdelivr.net/gh/GitMetaio/rule@master/rule/Clash/Google/Google.list

; 15. Netflix
ruleset=🎬 Netflix,https://cdn.jsdelivr.net/gh/GitMetaio/rule@master/rule/Clash/Netflix/Netflix.list

; 16. Spotify
ruleset=🎧 Spotify,https://cdn.jsdelivr.net/gh/GitMetaio/rule@master/rule/Clash/Spotify/Spotify.list

; 17. Facebook
ruleset=📘 Facebook,https://cdn.jsdelivr.net/gh/GitMetaio/rule@master/rule/Clash/Facebook/Facebook.list

; 18. OpenAI
ruleset=🤖 OpenAI,https://cdn.jsdelivr.net/gh/GitMetaio/rule@master/rule/Clash/OpenAI/OpenAI.list

; 19. Apple
ruleset=🍎 Apple,https://cdn.jsdelivr.net/gh/GitMetaio/rule@master/rule/Clash/Apple/Apple.list

; 20. Microsoft
ruleset=🪟 Microsoft,https://cdn.jsdelivr.net/gh/GitMetaio/rule@master/rule/Clash/Microsoft/Microsoft.list

; 21. Telegram
ruleset=✈️ Telegram,https://cdn.jsdelivr.net/gh/GitMetaio/rule@master/rule/Clash/Telegram/Telegram.list

; 22. 白名单出站
ruleset=👤 白名单出站,DOMAIN,browserleaks.com

; 23. 中国大陆规则
ruleset=🇨🇳 瓦洛兰大陆,https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/cn.list
ruleset=🇨🇳 瓦洛兰大陆,https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geoip/cn.list
ruleset=🇨🇳 瓦洛兰大陆,https://cdn.jsdelivr.net/gh/GitMetaio/rule@master/rule/Clash/Lan/Lan.list

; 24. 兜底规则
ruleset=🐟 漏网之鱼,FINAL

;设置分组标志位 - 严格按照 config.yaml 顺序排列

; 1. 总模式 - 主要选择器
custom_proxy_group=🎯 总模式`select`[]⚡ 延迟最低`[]🔄 故障转移`[]⚖️ 负载均衡`[]🇭🇰 香港节点`[]🇹🇼 台湾节点`[]🇸🇬 狮城节点`[]🇯🇵 日本节点`[]🇺🇸 美国节点`[]🌍 其它地区`[]🇨🇳 瓦洛兰大陆

; 2. 订阅更新
custom_proxy_group=🔄 订阅更新`select`[]🇨🇳 瓦洛兰大陆`[]🎯 总模式

; 3. 小红书
custom_proxy_group=📕 小红书`select`[]🇨🇳 瓦洛兰大陆`[]⛔️ 拒绝连接`[]🎯 总模式`[]⚡ 延迟最低`[]🔄 故障转移`[]⚖️ 负载均衡`[]🇭🇰 香港节点`[]🇹🇼 台湾节点`[]🇸🇬 狮城节点`[]🇯🇵 日本节点`[]🇺🇸 美国节点`[]🌍 其它地区

; 4. 抖音
custom_proxy_group=🎵 抖音`select`[]🇨🇳 瓦洛兰大陆`[]⛔️ 拒绝连接`[]🎯 总模式`[]⚡ 延迟最低`[]🔄 故障转移`[]⚖️ 负载均衡`[]🇭🇰 香港节点`[]🇹🇼 台湾节点`[]🇸🇬 狮城节点`[]🇯🇵 日本节点`[]🇺🇸 美国节点`[]🌍 其它地区

; 5. BiliBili
custom_proxy_group=🅱️ BiliBili`select`[]🇨🇳 瓦洛兰大陆`[]⛔️ 拒绝连接`[]🎯 总模式`[]⚡ 延迟最低`[]🔄 故障转移`[]⚖️ 负载均衡`[]🇭🇰 香港节点`[]🇹🇼 台湾节点`[]🇸🇬 狮城节点`[]🇯🇵 日本节点`[]🇺🇸 美国节点`[]🌍 其它地区

; 6. Steam
custom_proxy_group=🎮 Steam`select`[]🇨🇳 瓦洛兰大陆`[]⛔️ 拒绝连接`[]🎯 总模式`[]⚡ 延迟最低`[]🔄 故障转移`[]⚖️ 负载均衡`[]🇭🇰 香港节点`[]🇹🇼 台湾节点`[]🇸🇬 狮城节点`[]🇯🇵 日本节点`[]🇺🇸 美国节点`[]🌍 其它地区

; 7. Apple
custom_proxy_group=🍎 Apple`select`[]🇨🇳 瓦洛兰大陆`[]⛔️ 拒绝连接`[]🎯 总模式`[]⚡ 延迟最低`[]🔄 故障转移`[]⚖️ 负载均衡`[]🇭🇰 香港节点`[]🇹🇼 台湾节点`[]🇸🇬 狮城节点`[]🇯🇵 日本节点`[]🇺🇸 美国节点`[]🌍 其它地区

; 8. Microsoft
custom_proxy_group=🪟 Microsoft`select`[]🇨🇳 瓦洛兰大陆`[]⛔️ 拒绝连接`[]🎯 总模式`[]⚡ 延迟最低`[]🔄 故障转移`[]⚖️ 负载均衡`[]🇭🇰 香港节点`[]🇹🇼 台湾节点`[]🇸🇬 狮城节点`[]🇯🇵 日本节点`[]🇺🇸 美国节点`[]🌍 其它地区

; 9. Telegram
custom_proxy_group=✈️ Telegram`select`[]🎯 总模式`[]⛔️ 拒绝连接`[]⚡ 延迟最低`[]🔄 故障转移`[]⚖️ 负载均衡`[]🇭🇰 香港节点`[]🇹🇼 台湾节点`[]🇸🇬 狮城节点`[]🇯🇵 日本节点`[]🇺🇸 美国节点`[]🌍 其它地区`[]🇨🇳 瓦洛兰大陆

; 10. Discord
custom_proxy_group=💬 Discord`select`[]🎯 总模式`[]⛔️ 拒绝连接`[]⚡ 延迟最低`[]🔄 故障转移`[]⚖️ 负载均衡`[]🇭🇰 香港节点`[]🇹🇼 台湾节点`[]🇸🇬 狮城节点`[]🇯🇵 日本节点`[]🇺🇸 美国节点`[]🌍 其它地区`[]🇨🇳 瓦洛兰大陆

; 11. Spotify
custom_proxy_group=🎧 Spotify`select`[]🎯 总模式`[]⛔️ 拒绝连接`[]⚡ 延迟最低`[]🔄 故障转移`[]⚖️ 负载均衡`[]🇭🇰 香港节点`[]🇹🇼 台湾节点`[]🇸🇬 狮城节点`[]🇯🇵 日本节点`[]🇺🇸 美国节点`[]🌍 其它地区`[]🇨🇳 瓦洛兰大陆

; 12. TikTok
custom_proxy_group=🎵 TikTok`select`[]🎯 总模式`[]⛔️ 拒绝连接`[]⚡ 延迟最低`[]🔄 故障转移`[]⚖️ 负载均衡`[]🇭🇰 香港节点`[]🇹🇼 台湾节点`[]🇸🇬 狮城节点`[]🇯🇵 日本节点`[]🇺🇸 美国节点`[]🌍 其它地区`[]🇨🇳 瓦洛兰大陆

; 13. YouTube
custom_proxy_group=📺 YouTube`select`[]🎯 总模式`[]⛔️ 拒绝连接`[]⚡ 延迟最低`[]🔄 故障转移`[]⚖️ 负载均衡`[]🇭🇰 香港节点`[]🇹🇼 台湾节点`[]🇸🇬 狮城节点`[]🇯🇵 日本节点`[]🇺🇸 美国节点`[]🌍 其它地区`[]🇨🇳 瓦洛兰大陆

; 14. Netflix
custom_proxy_group=🎬 Netflix`select`[]🎯 总模式`[]⛔️ 拒绝连接`[]⚡ 延迟最低`[]🔄 故障转移`[]⚖️ 负载均衡`[]🇭🇰 香港节点`[]🇹🇼 台湾节点`[]🇸🇬 狮城节点`[]🇯🇵 日本节点`[]🇺🇸 美国节点`[]🌍 其它地区`[]🇨🇳 瓦洛兰大陆

; 15. Google
custom_proxy_group=🔍 Google`select`[]🎯 总模式`[]⛔️ 拒绝连接`[]⚡ 延迟最低`[]🔄 故障转移`[]⚖️ 负载均衡`[]🇭🇰 香港节点`[]🇹🇼 台湾节点`[]🇸🇬 狮城节点`[]🇯🇵 日本节点`[]🇺🇸 美国节点`[]🌍 其它地区`[]🇨🇳 瓦洛兰大陆

; 16. GoogleFCM
custom_proxy_group=📱 GoogleFCM`select`[]🎯 总模式`[]⛔️ 拒绝连接`[]⚡ 延迟最低`[]🔄 故障转移`[]⚖️ 负载均衡`[]🇭🇰 香港节点`[]🇹🇼 台湾节点`[]🇸🇬 狮城节点`[]🇯🇵 日本节点`[]🇺🇸 美国节点`[]🌍 其它地区`[]🇨🇳 瓦洛兰大陆

; 17. Facebook
custom_proxy_group=📘 Facebook`select`[]🎯 总模式`[]⛔️ 拒绝连接`[]⚡ 延迟最低`[]🔄 故障转移`[]⚖️ 负载均衡`[]🇭🇰 香港节点`[]🇹🇼 台湾节点`[]🇸🇬 狮城节点`[]🇯🇵 日本节点`[]🇺🇸 美国节点`[]🌍 其它地区`[]🇨🇳 瓦洛兰大陆

; 18. OpenAI
custom_proxy_group=🤖 OpenAI`select`[]🎯 总模式`[]⛔️ 拒绝连接`[]⚡ 延迟最低`[]🔄 故障转移`[]⚖️ 负载均衡`[]🇭🇰 香港节点`[]🇹🇼 台湾节点`[]🇸🇬 狮城节点`[]🇯🇵 日本节点`[]🇺🇸 美国节点`[]🌍 其它地区`[]🇨🇳 瓦洛兰大陆

; 19. GitHub
custom_proxy_group=🐙 GitHub`select`[]🎯 总模式`[]⛔️ 拒绝连接`[]⚡ 延迟最低`[]🔄 故障转移`[]⚖️ 负载均衡`[]🇭🇰 香港节点`[]🇹🇼 台湾节点`[]🇸🇬 狮城节点`[]🇯🇵 日本节点`[]🇺🇸 美国节点`[]🌍 其它地区`[]🇨🇳 瓦洛兰大陆

; 20. Twitter(X)
custom_proxy_group=🐦 Twitter(X)`select`[]🎯 总模式`[]⛔️ 拒绝连接`[]⚡ 延迟最低`[]🔄 故障转移`[]⚖️ 负载均衡`[]🇭🇰 香港节点`[]🇹🇼 台湾节点`[]🇸🇬 狮城节点`[]🇯🇵 日本节点`[]🇺🇸 美国节点`[]🌍 其它地区`[]🇨🇳 瓦洛兰大陆

; 21. DNS连接
custom_proxy_group=🌐 DNS连接`select`[]🎯 总模式`[]⛔️ 拒绝连接`[]⚡ 延迟最低`[]🔄 故障转移`[]⚖️ 负载均衡`[]🇭🇰 香港节点`[]🇹🇼 台湾节点`[]🇸🇬 狮城节点`[]🇯🇵 日本节点`[]🇺🇸 美国节点`[]🌍 其它地区`[]🇨🇳 瓦洛兰大陆

; 22. 漏网之鱼
custom_proxy_group=🐟 漏网之鱼`select`[]🎯 总模式`[]⛔️ 拒绝连接`[]⚡ 延迟最低`[]🔄 故障转移`[]⚖️ 负载均衡`[]🇭🇰 香港节点`[]🇹🇼 台湾节点`[]🇸🇬 狮城节点`[]🇯🇵 日本节点`[]🇺🇸 美国节点`[]🌍 其它地区`[]🇨🇳 瓦洛兰大陆

; 23. 广告拦截
custom_proxy_group=🚫 广告拦截`select`[]⛔️ 拒绝连接`[]🌐 DNS_Hijack`[]REJECT-DROP`[]PASS

; 24. WebRTC
custom_proxy_group=🔒 WebRTC`select`[]⛔️ 拒绝连接`[]🌐 DNS_Hijack`[]REJECT-DROP`[]PASS

; 25. 白名单出站
custom_proxy_group=👤 白名单出站`select`[]🇨🇳 瓦洛兰大陆`[]⛔️ 拒绝连接`[]🎯 总模式`[]⚡ 延迟最低`[]🔄 故障转移`[]⚖️ 负载均衡`[]🇭🇰 香港节点`[]🇹🇼 台湾节点`[]🇸🇬 狮城节点`[]🇯🇵 日本节点`[]🇺🇸 美国节点`[]🌍 其它地区

; 26. 延迟最低
custom_proxy_group=⚡ 延迟最低`url-test`.*`http://www.gstatic.com/generate_204`300,,50

; 27. 故障转移
custom_proxy_group=🔄 故障转移`fallback`.*`http://www.gstatic.com/generate_204`300,,50

; 28. 负载均衡
custom_proxy_group=⚖️ 负载均衡`load-balance`.*`http://www.gstatic.com/generate_204`300,,50

; 29. 台湾节点
custom_proxy_group=🇹🇼 台湾节点`url-test`(台|新北|彰化|TW|Taiwan)`http://www.gstatic.com/generate_204`300,,50

; 30. 香港节点
custom_proxy_group=🇭🇰 香港节点`url-test`(港|HK|hk|Hong Kong|HongKong|hongkong)`http://www.gstatic.com/generate_204`300,,50

; 31. 日本节点
custom_proxy_group=🇯🇵 日本节点`url-test`(日本|川日|东京|大阪|泉日|埼玉|沪日|深日|[^-]日|JP|Japan)`http://www.gstatic.com/generate_204`300,,50

; 32. 美国节点
custom_proxy_group=🇺🇸 美国节点`url-test`(美|波特兰|达拉斯|俄勒冈|凤凰城|费利蒙|硅谷|拉斯维加斯|洛杉矶|圣何塞|圣克拉拉|西雅图|芝加哥|US|United States)`http://www.gstatic.com/generate_204`300,,50

; 33. 狮城节点
custom_proxy_group=🇸🇬 狮城节点`url-test`(新加坡|坡|狮城|SG|Singapore)`http://www.gstatic.com/generate_204`300,,50

; 34. 其它地区
custom_proxy_group=🌍 其它地区`url-test`^(?!.*(港|HK|hk|Hong Kong|HongKong|hongkong|日本|川日|东京|大阪|泉日|埼玉|沪日|深日|[^-]日|JP|Japan|美|波特兰|达拉斯|俄勒冈|凤凰城|费利蒙|硅谷|拉斯维加斯|洛杉矶|圣何塞|圣克拉拉|西雅图|芝加哥|US|United States|台|新北|彰化|TW|Taiwan|新加坡|坡|狮城|SG|Singapore|灾|网易|Netease|套餐|重置|剩余|到期|订阅|群|账户|流量|有效期|时间|官网)).*$`http://www.gstatic.com/generate_204`300,,50

; 35. CNTEST
custom_proxy_group=📊 CNTEST`select`[]🇨🇳 瓦洛兰大陆

; 基础代理组
custom_proxy_group=🇨🇳 瓦洛兰大陆`select`[]DIRECT
custom_proxy_group=⛔️ 拒绝连接`select`[]REJECT
custom_proxy_group=🌐 DNS_Hijack`select`[]⛔️ 拒绝连接

; CNTEST 规则
ruleset=📊 CNTEST,GEOIP,CN

;设置分组标志位
enable_rule_generator=true
overwrite_original_rules=true

clash_rule_base=https://raw.githubusercontent.com/pjy02/sub-web-modify/refs/heads/master/clash_dns_template.yml

;luck